<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.8"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>nstBASIC: Frequently asked questions</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="mystyle.css" rel="stylesheet" type="text/css"/>
        <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600" rel="stylesheet">
    </head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nstBASIC
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Frequently asked questions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Hopefully, this is where you'll have your questions answered.</p>
<h3>1. I like nstBASIC! Can I use it in projects of mine?</h3>
<p>I'm glad you like it and since you are so kind, of course you can use it. No, really! You can use nstBASIC in any project, as long as you respect the terms of the <a href="www.gnu.org/licenses/gpl-3.0.html" title="official license text">GLPv3 licence</a>.</p>
<h3>2. On what microcontroller is nstBASIC meant to run?</h3>
<p>This interpreter was developed for the ATMEGA644. However, this nothing more that an 8bit AVR microcontroller, very much like the "brain" of Arduino. In other words, nstBASIC has extremely low requirements and could be ported to almost every microcontroller or computer system.</p>
<h3>3. This sounds interesting, but is it really possible?</h3>
<p>Definetelly yes! It might not be easy though. On the one hand, if your project is based on some AVR microcontroller, your job will be very easy. Chances are that you'll only have to tweak some functions in <a class="el" href="io_8c.html" title="Exchange data with sub-systems and peripherals. ">io.c</a>, so that you won't be needing the hardware of the homemade computer. On the other hand, if you intend to port nstBASIC to some other microcontroller or to an altogether different platform, be prepared for a lot of work! You'll have to rewrite every function in <a class="el" href="io_8c.html" title="Exchange data with sub-systems and peripherals. ">io.c</a>. You'll also have to replace every function, macro and constant supplied by avr-libc (sei, cli, pgm_read_byte and so on). You'll even have to hack the Makefile.</p>
<h3>4. Is there already a port for some other microcontroller?</h3>
<p>None that I know of! If you just created one, or you happen to know somebody who did, let me know. I'd be glad to know and will I will include a link in this answer.</p>
<h3>5. How did you manage to interface the microcontroller with a PC keyboard?</h3>
<p>There is an <a href="http://www.atmel.com/Images/doc1235.pdf" title="application note [PDF]">application note</a> from ATMEL, that does a great job at describing the data transmission scheme. The same document contains sample source code, which is a great starting point for your own implementation!</p>
<h3>6. Is nstBASIC designed with a specific clock speed in mind?</h3>
<p>The microcontroller that runs nstBASIC on the homemade computer operates at 20MHz. There is no such restriction though. You are free to select whichever clock speed suits your needs. However, if it's not going to be 20MHz, you'll have to recompile the code! Just remember to update the respective variable (<code>CLOCK</code>) in Makefile. This is mandatory for the correct operation of time critical functions (serial communication, busy delays and so on).</p>
<h3>7. Can I use a different BAUD rate as well?</h3>
<p>The answer is the same: There is no reason you could not, but if it's not going to be 57600bps (the one used on the homemade computer), you'll have to recompile the code. Obviously, this time you'll have to update another variable (<code>BAUD</code>) in Makefile.</p>
<h3>8. Is there anything crucial regarding the fuse settings?</h3>
<p>Not really. In the case of my hardware setup, all I had to do was to select the external clock source and to make sure that clock-division-by-8 was disabled. The necessary arguments for setting the fuses with AVRDUDE were supplied by "Engbedded Atmel AVR [fuse calculator][fuses]". In case you're going to use the same microcontroller (ATMEGA644), here are the arguments I used:</p>
<p><code> -U lfuse:w:0xe0:m -U hfuse:w:0xdf:m -U efuse:w:0xfc:m </code></p>
<h3>9. Is there a way to extend the language by adding my own commands?</h3>
<p>Yes, there is! In general terms you have to take the following steps:</p><ul>
<li>Add the desired keyword in <code>commands</code> table (<a class="el" href="parser_8c.html" title="Syntactic analysis and expression evaluation. ">parser.c</a>).</li>
<li>Add a respective entry in the <code>COMMANDS</code> enumerator (<a class="el" href="parser_8h.html" title="Enumerators for the supported commands and functions and some prototypes. ">parser.h</a>).</li>
<li>Write the functions that implement your command.</li>
<li>Add the corresponding section in the large switch statement, in the <a class="el" href="interpreter_8c.html#ae0c498ea10540cc81b1388062c7cf86e" title="Execute specified line. ">execution()</a> function (<a class="el" href="interpreter_8c.html" title="Get user input, search for commands and execute them. ">interpreter.c</a>).</li>
</ul>
<p>Keep in mind that the new entry in the table (<code>commands</code>) and the new entry in the enumerator (<code>COMMANDS</code>) should be at exactly the same position. Since neither the table nor the enumarator is sorted, you can always add the new entries at the beginning of both constructs. Do not put the new entries at the end of the table and the enumerator! The last member of the enumerator corresponds to no keyword and represents the no-keyword-found state.</p>
<h3>10. Some functions seem poorly written. They could have easily been very faster...</h3>
<p>nstBASIC runs on a microcontroller with only 4Kb of SRAM. This means that the interpreter should occupy the least amount of memory possible, so that the available memory &ndash;i.e. the memory space for user programs!&ndash; would be maximized. Speed was far from being a priority! For example, <a class="el" href="parser_8c.html#ad7ccacd8a08ca721b55ce29bf016a849" title="Search for any string in specified table. ">scantable()</a> function would have been very faster if it utilized binary search. There are a lot of ways one could speed nstBASIC up, but most of them would reduce the available memory for user programs and thusly, inhibit user's creativity ;-) </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
